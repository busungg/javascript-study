# 변수의 유효범위
1. 정의
    * 프로그램에서 어떤 변수가 정의되어 있는 영역
2. 전역변수
    * 자바스크립트 코드 전체에 걸쳐 정의됨
3. 지역변수
    * 어떤 함수 안에서 선언된 변수는 오직 해당 함수 몸체 안에서만 정의됨, 유효범위도 지역적
    * 함수의 매개변수도 지역변수
4. *함수 내부에서 지역 변슈는 전역 변수와 같은 이름을 가질 수 있다.*
    * 지역 변수 혹은 함수 매개변수를 전역 변수와 같은 이름으로 선언한다면 전역 변수를 효율적으로 감출 수 있다.
    * ```
        var scope = 'global';
        function checkscope() {
            var scope = 'local';
            return scope;
        }
        checkscope() //=> local
        ```
5. 전역 유효범위에서는 var 구문을 사용하지 않고 전역 변수를 선언할 수 있다.
6. 지역 변수를 선언하기 위해서는 반드시 var를 사용해야 한다.
    * ```
        scope = 'global';

        function checkscope2() {
            scope = 'local'; //전역 변수가 변경
            myscope = 'local' //암묵적으로 전역변수 선언
        }
        ```
7. 각 함수에는 자신만의 유효범위가 존재

# 함수 유효범위와 끌어올림(Hoisting)
1. 블록 단위의 유효범위
    * 블록 안에 있는 코드는 자신만의 유효범위를 가지는 것
    * 변수는 해당 변수가 선언되지 않은 블록 밖에서는 보이지 않음
2. 함수 유효범위(자바스크립트의 유효범위)
    * 변수는 이 변수가 정의된 함수 안에서 보일뿐만 아니라
    * 이 함수 안에 *중첩된 함수 안*에서도 보인다.
    * ```
        function test(o) {
            var i = 0;
            if(typeof o == 'object') {
                var j = 0;

                for(var k=0; k<10; k++) {
                    console.log(k) //숫자 0부터 9까지 출력
                }
                console.log(k) // 숫자 10 출력
            }
            console.log(j) //j는 정의되어 있음.
        }
        ```
3. 호이스팅(Hoisting) 
    * *함수 안에서 선언된 모든 변수가 함수 전체에 걸쳐 유효함*
    * 변수가 선언되기 전에도 유효함
    * 자바스크립트 코드는 함수 안에 있는 모든 변수를 함수 맨 꼭대기로 '끌어올린'것처럼 동작함
    * ```
        var scope = 'global'
        function f() {
            console.log(scope); //'global'이 아니라 'undefined'를 출력한다.
            var scope = 'local' //변수를 여기서 초기화하지만 전역적으로 정의된다.
            console.log(scope); //'local'을 출력한다.
        }
        ```
        지역변수는 함수 전체에 걸쳐 정의된다. 즉, 같은 이름의 전역 변수는 함수 전체에서 이 지역 변수에 의해 감춰진다.

# 프로퍼티로서의 변수
1. 전역 자바스크립트 변수를 선언할 때, 실제로는 전역 객체의 프로퍼티를 정의 하는 것이다.

# 유효범위 체인
1. 지역 변수를 잘 정의된 객체의 프로퍼티로 생각한다면, 변수 유효범위를 다른 관점으로 볼 수도 있다.
2. 자바스크립트의 모든 청크(전역 코드 또는 함수)는 그것과 연관된 유효범위 체인을 가지고 있다.
3. *이 유효범위 체인은 '유효범위 안에서' 변수를 정의하는 객체의 목록 또는 체인이다.*
    * 자바스크립트가 변수 x의 값을 얻는다고 할때를 가정
        1. 처음 체인에 있는 객체에서 x를 찾음
        2. 이 객체가 x인 프로퍼티를 가지고 있다면 그대로 사용
        3. 첫 번째 객체가 x인 프로퍼티를 가지고 있지 않다면 자바스크립트는 체인에 있는 다음 객체에서 x프로퍼티를 찾음
        4. 두 번때 객체가 x프로퍼티를 가지고 있지 않다면 또 다음 객체에서 찾는다.
        5. x가 유효범위 체인 안에 있는 객체의 프로퍼티가 아니라면 x는 유효범위 안에 없기 때문에 ReferenceError가 발생
4. 함수가 정의될 때, 함수는 유효 영역 체인을 저장한다.
5. 함수가 호출될 때 함수 몸체에 정의된 지역 변수를 저장하기 위해서 새로운 객체를 하나 생성하고, 해당 함수를 호출한 부모 함수가 가진 유효범위 체인을 기존에 저장된 유효범위 체인에 추가한다.

